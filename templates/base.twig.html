<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webdocumentaire</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
      integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.16/mediaelementplayer.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement-plugins/2.5.0/speed/speed.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement-plugins/2.5.0/skip-back/skip-back.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement-plugins/2.5.0/jump-forward/jump-forward.min.css"
    />

    {# FONTS #}
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anybody:ital,wght@0,100..900;1,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    {# SCRIPT #}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.16/mediaelement-and-player.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mediaelement-plugins/2.5.0/skip-back/skip-back.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mediaelement-plugins/2.5.0/jump-forward/jump-forward.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ivorpad/mediaelement-changespeed/changespeed.js"></script>

    {# CSS #} {% block css %}
    <!-- Contenu du css -->
    {% endblock %}
    <link rel="stylesheet" href="./commun.css" />
    <link rel="stylesheet" href="./CSS/style.css" />
    <link rel="stylesheet" href="./CSS/bloc.css" />
    <link rel="stylesheet" href="./CSS/article.css" />
  </head>

  <body>
    {% block page %}
    <!-- Contenu par défaut -->
    {% endblock %}

    <footer class="footer">
      <div class="footer-links">
        <a href="#">Plan du site</a>
        <span>|</span>
        <a href="#">© crédits</a>
        <span>|</span>
        <a href="#">Mentions légales</a>
      </div>
    </footer>

    {% block javascript %} {% endblock %}
    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <script src="js/accueil.js"></script>
    <script src="js/article.js"></script>
    <script>
      document
        .getElementById("edito-btn")
        .addEventListener("click", function () {
          document.getElementById("edito").style.top = "0"; // Slide-down animation
        });

      document.getElementById("edito").addEventListener("click", function (e) {
        if (e.target === this) {
          this.style.top = "-100%"; // Fermer en remontant
        }
      });

      function openChapterSection(chapterId) {
        // Fermer toutes les sections ouvertes
        document.querySelectorAll(".chapter-section").forEach((section) => {
          section.classList.remove("show");
        });
        // Afficher la section spécifique
        document.getElementById(chapterId).classList.add("show");
      }

      // Événements pour les chapitres
      document.querySelector(".chapter-container:nth-child(2)").onclick = () =>
        openChapterSection("chapter1");
      document.querySelector(".chapter-container:nth-child(3)").onclick = () =>
        openChapterSection("chapter2");
      document.querySelector(".chapter-container:nth-child(4)").onclick = () =>
        openChapterSection("chapter3");

      document
        .getElementById("edito-close-btn")
        .addEventListener("click", function () {
          document.getElementById("edito").style.top = "-100%"; // Fermer l'Édito
        });

      // Ajouter un événement pour chaque bouton de fermeture des chapitres
      document.querySelectorAll(".close-chapter").forEach((button) => {
        button.addEventListener("click", function () {
          // Trouve la section parente et la cache
          const chapterSection = this.closest(".chapter-section");
          chapterSection.classList.remove("show");
        });
      });
    </script>
  </body>
</html>
