{% extends "base-admin.twig.html" %} {% block content %}

<h1 class="text-center p-5">Créaton d'un bloc</h1>
<form action="admin.php?page=bloc&action=create&id={{ bloc.id }}" method="post" enctype="multipart/form-data"
    class="row g-4 needs-validation" novalidate>
    {# type #}
    <div class="col-md-6">
        <label for="type" class="form-label fw-bold">Type de bloc :</label>
        <input type="hidden" name="type" value="{{ bloc.type }}" class="form-control" />
        <input type="text" class="form-control" placeholder="Bloc sélectionné : {{ bloc.type }}" disabled />
    </div>
    <!-- ID du bloc -->
    <input type="hidden" name="id" value="{{ bloc.id }}" />
    <!-- Titre -->
    <div class="col-md-6">
        <label for="texte_titre" class="form-label fw-bold text-secondary">Titre du carousel :</label>
        <input type="text" name="texte_titre" value="{{ bloc.texte_titre }}" class="form-control border-secondary" />
    </div>


    {# texte 1#}
    <!-- Texte -->
    <div class="col-md-6">
        <label for="texte" class="form-label fw-bold">Texte slide 1 :</label>
        <textarea name="texte" id="texte" placeholder="Saisir le texte" class="form-control border-secondary"
            rows="3">{{ bloc.texte  | raw}}</textarea>
    </div>

    {# image 1#}
    <div class="col-md-6">
        <label for="image" class="form-label fw-bold text-secondary">Image ou infographie:</label>
        {% if bloc.image %}
        <div class="mb-3">
            <img src="upload/{{ bloc.image }}" alt="Image actuelle" class="img-thumbnail" style="max-width: 150px;">
        </div>
        <input type="hidden" name="old_image" value="{{ bloc.image }}" />
        {% endif %}
        <input type="file" name="image" id="image" accept="image/*" class="form-control" />
        <small class="text-muted">Taille maximale : 200 Ko</small>
    </div>

    {# texte 2#}
    <!-- Texte -->
    <div class="col-md-6">
        <label for="texte_1" class="form-label fw-bold">Texte slide 2:</label>
        <textarea name="texte_1" id="texte" placeholder="Saisir le texte" class="form-control border-secondary"
            rows="3">{{ bloc.texte_1  | raw}}</textarea>
    </div>

    {# image 2#}
    <div class="col-md-6">
        <label for="image_1" class="form-label fw-bold text-secondary">Image slide 2:</label>
        <input type="file" name="image_1" accept="image/*" class="form-control border-secondary" />
        {% if bloc.image_1 %}
        <p class="mt-2 text-muted">Image actuelle : <strong>{{ bloc.image }}</strong></p>
        {% endif %}
    </div>


    {# texte 3#}
    <!-- Texte -->
    <div class="col-md-6">
        <label for="texte_2" class="form-label fw-bold">Texte slide 3:</label>
        <textarea name="texte_2" id="texte" placeholder="Saisir le texte" class="form-control border-secondary"
            rows="3">{{ bloc.texte_2  | raw}}</textarea>
    </div>
    {# image 3 #}
    <div class="col-md-6">
        <label for="image_2" class="form-label fw-bold text-secondary">Image slide 3:</label>
        <input type="file" name="image_2" accept="image/*" class="form-control border-secondary" />
        {% if bloc.image_2 %}
        <p class="mt-2 text-muted">Image actuelle : <strong>{{ bloc.image }}</strong></p>
        {% endif %}
    </div>


    {# texte 4#}
    <!-- Texte -->
    <div class="col-md-6">
        <label for="texte_3" class="form-label fw-bold">Texte slide 4 :</label>
        <textarea name="texte_3" id="texte" placeholder="Saisir le texte" class="form-control border-secondary"
            rows="3">{{ bloc.texte_3  | raw}}</textarea>
    </div>>

    {# image 4 #}
    <div class="col-md-6">
        <label for="image_3" class="form-label fw-bold text-secondary">Image slide 4 :</label>
        <input type="file" name="image_3" accept="image/*" class="form-control border-secondary" />
        {% if bloc.image_3 %}
        <p class="mt-2 text-muted">Image actuelle : <strong>{{ bloc.image }}</strong></p>
        {% endif %}
    </div>



    {# texte 5#}
    <!-- Texte -->
    <div class="col-md-6">
        <label for="texte_5" class="form-label fw-bold">Texte slide 5:</label>
        <textarea name="texte_5" id="texte" placeholder="Saisir le texte" class="form-control border-secondary"
            rows="3">{{ bloc.texte_5  | raw}}</textarea>
    </div>

    {# image 5#}
    <div class="col-md-6">
        <label for="image_4" class="form-label fw-bold text-secondary">Image slide 5 :</label>
        <input type="file" name="image_4" accept="image/*" class="form-control border-secondary" />
        {% if bloc.image_4 %}
        <p class="mt-2 text-muted">Image actuelle : <strong>{{ bloc.image }}</strong></p>
        {% endif %}
    </div>

    {# Alt (Description) #}
    <div class="col-md-6">
        <label for="alt" class="form-label fw-bold text-secondary">Description de l'image :</label>
        <input type="text" name="alt" value="{{ bloc.alt }}" placeholder="Description de l'image"
            class="form-control border-secondary" />
    </div>

    {# Crédit #}
    <div class="col-md-6">
        <label for="texte_credit" class="form-label fw-bold text-secondary">Crédit :</label>
        <input type="text" name="texte_credit" id="texte_credit" value="{{ bloc.texte_credit }}"
            placeholder="Saisir le crédit" class="form-control border-secondary" />
    </div>


    <!-- Sélection de l'article -->
    <div class="col-md-6">
        <label for="id_article" class="form-label fw-bold">Article associé :</label>
        <select name="id_article" id="id_article" class="form-select border-secondary" required>
            <option value="" disabled>Choisir un article</option>
            {% for article in listearticle %}
            <option value="{{ article.id_article }}" {% if article.id_article == bloc.id_article %}selected{% endif %}>
                {{ article.titre }}
            </option>
            {% endfor %}
        </select>
    </div>

    {# bouton #}
    <!-- Bouton d'envoi -->
    <div class="col-12 d-flex justify-content-center mt-4">
        <button type="submit" class="btn btn-primary px-4 py-2 rounded-pill shadow-sm">
            <i class="fa-solid fa-save me-2"></i>Mettre à jour
        </button>
    </div>
</form>


{% endblock %}