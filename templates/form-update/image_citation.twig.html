{% extends "base-admin.twig.html" %} {% block content %}

<h1 class="text-center p-5">Créaton d'un bloc</h1>
<form action="admin.php?page=bloc&action=create&id={{ bloc.id }}" method="post" enctype="multipart/form-data"
    class="row g-4 needs-validation" novalidate>
    {# type #}
    <div class="col-md-6">
        <label for="type" class="form-label fw-bold">Type de bloc :</label>
        <input type="hidden" name="type" value="{{ bloc.type }}" class="form-control" />
        <input type="text" class="form-control" placeholder="Bloc sélectionné : {{ bloc.type }}" disabled />
    </div>

    <!-- ID du bloc -->
    <input type="hidden" name="id" value="{{ bloc.id }}" />
    <div class="col-md-6">
        <label for="image" class="form-label fw-bold text-secondary">Image :</label>
        <input type="file" name="image" accept="image/*" class="form-control border-secondary" />
        {% if bloc.image %}
        <p class="mt-2 text-muted">Image actuelle : <strong>{{ bloc.image }}</strong></p>
        {% endif %}
    </div>


    <!-- Légende -->
    <div class="col-md-6">
        <label for="texte_legende" class="form-label fw-bold">Légende :</label>
        <textarea name="texte_legende" id="texte_legende" placeholder="Saisir la légende"
            class="form-control border-secondary" rows="2">{{bloc.texte_legende | raw}}</textarea>
    </div>

    <!-- Citation -->
    <div class="col-md-6">
        <label for="texte_citation" class="form-label fw-bold">Citation :</label>
        <textarea name="texte_citation" id="texte_citation" placeholder="Saisir la citation"
            class="form-control border-secondary" rows="3">{{ bloc.texte_citation | raw}}</textarea>
    </div>

    {# infographie #}
    <div class="col-md-4">
        <label for="video">video :<span>(max 5 Mo)</span></label>
        <input type="hidden" name="MAX_FILE_SIZE" value="5000000" title="la taille max du fichier" autocomplete="off" />
        <input type="file" id="video" name="audio" class="video" title="votre video" autocomplete="off" />
    </div>


    {# Alt (Description) #}
    <div class="col-md-6">
        <label for="alt" class="form-label fw-bold text-secondary">Description de l'image :</label>
        <input type="text" name="alt" value="{{ bloc.alt }}" placeholder="Description de l'image"
            class="form-control border-secondary" />
    </div>

    <!-- Sélection de l'article -->
    <div class="col-md-6">
        <label for="id_article" class="form-label fw-bold">Article associé :</label>
        <select name="id_article" id="id_article" class="form-select border-secondary" required>
            <option value="" disabled>Choisir un article</option>
            {% for article in listearticle %}
            <option value="{{ article.id_article }}" {% if article.id_article == bloc.id_article %}selected{% endif %}>
                {{ article.titre }}
            </option>
            {% endfor %}
        </select>
    </div>

    {# bouton #}
    <!-- Bouton d'envoi -->
    <div class="col-12 d-flex justify-content-center mt-4">
        <button type="submit" class="btn btn-primary px-4 py-2 rounded-pill shadow-sm">
            <i class="fa-solid fa-save me-2"></i>Mettre à jour
        </button>
    </div>
</form>


{% endblock %}