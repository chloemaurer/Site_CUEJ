{% extends "base-admin.twig.html" %} {% block content %}

<h1 class="text-center p-5">Créaton d'un bloc</h1>
<form action="admin.php?page=bloc&action=create" method="post" enctype="multipart/form-data"
class="row g-4 needs-validation" novalidate>
    {# type #}
    <div class="col-md-4">
        <label for="type" class="form-label mt-4">Type de bloc :</label>
        <input type="hidden" name="type" placeholder="Quel type ?" value="{{id}}"
            class="form-control w-75 ms-5 border-black" />
    </div>

    {# texte #}
    <div class="col-md-4">
        <label for="texte_citation" class="form-label mt-4">Citation :</label>
        <input type="text" name="texte_citation" placeholder="Saisir le texte" class="form-control w-75 ms-5 border-black" />
    </div>


    {# image #}
    <div class="col-md-4">
        <label for="image">Image :<span>(max 1,5 Mo)</span></label>
        <input type="hidden" name="MAX_FILE_SIZE" value="1572864" title="la taille max du fichier" autocomplete="off" />
        <input type="file" name="image" accept="images/*" class="form-control w-75 ms-5 border-black" />
    </div>



    {# alt #}
    <div class="col-md-4">
        <label for="alt" class="form-label mt-4">Description de l'image : </label>
        <input type="text" name="alt" placeholder="description de l'image (si type = image)"
            class="form-control w-75 ms-5 border-black" />
    </div>

    {# Article : Pré-sélection automatique #}
        <div class="col-md-6">
            <label for="id_article" class="form-label fw-bold text-secondary">Article :</label>
            <select name="id_article" id="id_article" class="form-select border-secondary" required>
                <option value="" disabled>Choisir un article</option>
                {% for article in listearticle %}
                    <option value="{{ article.id_article }}" 
                        {% if article.id_article == id_article_selectionne %}selected{% endif %}>
                        {{ article.titre }}
                    </option>
                {% endfor %}
            </select>
        </div>

    {# bouton #}
    <div class="d-flex justify-content-center">
        <button type="submit" class="submit border-light-subtle p-2 rounded-2 bg-secondary-subtle w-25 mt-2">
            Créer
        </button>
    </div>
</form>

{% endblock %}