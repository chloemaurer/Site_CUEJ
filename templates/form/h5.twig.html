{% extends "base-admin.twig.html" %} {% block content %}
<div class="container py-5">
  <!-- Titre principal -->
  <h1 class="text-center mb-4 text-primary">Création d'un bloc</h1>

  <!-- Card contenant le formulaire -->
  <div class="card shadow-sm">
    <div class="card-body p-4">
      <form action="admin.php?page=bloc&action=create" method="post" enctype="multipart/form-data"
        class="row g-4 needs-validation" novalidate>
        <!-- Type (champ caché) -->
        <input type="hidden" name="type" value="{{ id }}" />

        <!-- Texte -->
        <div class="col-md-12 mb-3">
          <label for="texte" class="form-label fw-bold text-secondary">Titre :</label>
          <input type="text" name="texte" placeholder="Saisir le titre du bloc" class="form-control border-secondary"
            required />
        </div>

        {# Article : Pré-sélection automatique #}
        <div class="col-md-6">
          <label for="id_article" class="form-label fw-bold text-secondary">Article :</label>
          <select name="id_article" id="id_article" class="form-select border-secondary" required>
            <option value="" disabled>Choisir un article</option>
            {% for article in listearticle %}
            <option value="{{ article.id_article }}"
              {% if article.id_article == id_article_selectionne %}selected{% endif %}>
              {{ article.titre }}
            </option>
            {% endfor %}
          </select>
        </div>

        <!-- Bouton de soumission -->
        <div class="col-12 d-flex justify-content-center">
          <button type="submit" class="btn btn-primary btn-lg px-4">
            <i class="fa-solid fa-check"></i> Créer
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}